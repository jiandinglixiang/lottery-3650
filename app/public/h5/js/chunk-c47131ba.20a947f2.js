(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c47131ba"],{"0595":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"red-item"},[a("div",{staticClass:"red-item-body"},[t.theme?[a("div",{staticClass:"red-item-top"},[a("div",{staticClass:"red-item-top-1"},[a("div",[t._v("¥"+t._s(t.propsData.value))])]),a("div",{staticClass:"red-item-top-2"},[a("div",{staticClass:"top2-child-left"},[t._v(t._s(t.propsData.diaplay_name))])])]),a("div",{staticClass:"red-item-details"}),a("div",{staticClass:"red-item-PB"},[a("div",{staticClass:"red-item-price"},[a("span",[t._v(t._s(t.propsData.price))]),t._v("元")]),a("div",{staticClass:"red-item-button",on:{click:function(e){return t.$emit("tap",t.propsData)}}},[t._v("购买")])])]:[a("div",{staticClass:"red-item-top"},[a("div",{staticClass:"red-item-top-1"},[a("div",[t._v(t._s(t.propsData.name))])]),a("div",{staticClass:"red-item-top-2"},[a("div",{staticClass:"top2-child-left"},[t._v(t._s(t.propsData.condition))]),a("div",{staticClass:"top2-child-right"},[t._v(t._s(t.goodNum))])])]),a("div",{staticClass:"red-item-details"},[t._v("可用彩种: "+t._s(t.propsData.support_lottery||"通用"))]),a("div",{staticClass:"red-item-PB2"},[a("div",{staticClass:"red-item-price"},[a("div",[a("span",{staticStyle:{color:"#e73f40"}},[t._v(t._s(t.propsData.point))]),t._v("积分")]),t.propsData.exchane_end_time>0&&t.propsData.exchane_end_time<2102415999?a("div",{staticStyle:{color:"#333333","margin-top":"0.1rem"}},[a("count-down",{attrs:{endTime:t.propsData.exchane_end_time}})],1):t._e()]),a("div",{staticClass:"red-item-button",on:{click:function(e){return t.$emit("tap",t.propsData)}}},[t._v("兑换")])])]],2)])},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{endText:t.endText,endTime:t.endTime}},[t._t("default",[t._v("\n    剩余:"+t._s(t.content)+"\n  ")])],2)},o=[],r={name:"countDown",data:function(){return{content:""}},props:{endTime:{type:Number,default:0},endText:{type:String,default:"已结束"}},mounted:function(){this.countdowm(this.endTime)},methods:{countdowm:function(t){var e=this,a=setInterval(function(){var i=new Date,n=new Date(1e3*t),s=n.getTime()-i.getTime();if(s>0){var o=Math.floor(s/864e5),r=Math.floor(s/36e5%24),c=Math.floor(s/6e4%60),d=Math.floor(s/1e3%60);r=r<10?"0"+r:r,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var l="";o>0&&(l="".concat(o,"天"),clearInterval(a)),o<=0&&r>0&&(l="".concat(r,":").concat(c,":").concat(d)),o<=0&&r<=0&&(l="".concat(c,":").concat(d)),e.content=l}else clearInterval(a),e.content=e.endText},1e3)}}},c=r,d=a("2877"),l=Object(d["a"])(c,s,o,!1,null,null,null),p=l.exports,v={name:"redItem",props:{theme:{type:null},propsData:{}},computed:{goodNum:function(){return this.propsData.good_num<100?this.propsData.good_num<1?"补货中":"剩余".concat(this.propsData.good_num,"个"):""}},components:{countDown:p}},u=v,m=(a("5809"),Object(d["a"])(u,i,n,!1,null,"88544716",null));e["a"]=m.exports},5809:function(t,e,a){"use strict";var i=a("bc7b"),n=a.n(i);n.a},"88e3":function(t,e,a){"use strict";var i=a("a0a5"),n=a.n(i);n.a},9989:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-init"},[a("v-dialog",{directives:[{name:"show",rawName:"v-show",value:t.hied1,expression:"hied1"}],staticStyle:{"background-color":"white"},attrs:{title:"兑换确认"},on:{close:function(e){t.hied1=!1}}},[a("div",{staticClass:"text-md margin-top-5"},[a("div",{staticClass:"alert-msg"},[t._v("您将使用 "),a("span",[t._v(t._s(t.purchase1.point))]),t._v("积分兑换")]),a("div",{staticClass:"alert-red-conversion"},[a("div",[t._v(t._s(t.purchase1.name))]),a("div",[t._v(t._s(t.purchase1.condition))])]),a("div",{staticClass:"alert-msg text-left"},[t._v("有效期: "+t._s(t._f("getEndTime")(t.purchase1.end_time)))]),a("div",{staticClass:"alert-msg text-left"},[t._v("可用彩种: "+t._s(t.purchase1.support_lottery))])]),a("div",{staticClass:"padding margin-top-10"},[a("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(e){return t.redConversion()}}},[t._v("兑换")])])]),a("v-dialog",{directives:[{name:"show",rawName:"v-show",value:t.hied2,expression:"hied2"}],attrs:{title:"兑换确认"},on:{close:function(e){t.hied2=!1}}},[a("div",{staticClass:"text-md margin-top-5"},[a("div",{staticClass:"alert-msg"},[t._v("您将使用 "),a("span",[t._v(t._s(t.purchase2.point))]),t._v("积分兑换")]),a("img",{staticStyle:{width:"50%",height:"auto"},attrs:{src:t.purchase2.image,alt:""}}),a("div",{staticClass:"alert-msg"},[t._v(t._s(t.purchase2.name))])]),a("div",{staticClass:"padding margin-top-10"},[a("a",{staticClass:"btn",attrs:{href:"javascript:"},on:{click:function(e){return t.entityConversion()}}},[t._v("兑换")])])]),a("div",{staticClass:"integral-top"},[a("v-head",{attrs:{title:"积分商城"}},[a("router-link",{staticStyle:{color:"#fff"},attrs:{slot:"right",tag:"span",to:"integralDetails"},slot:"right"},[t._v("积分明细\n      ")])],1)],1),a("div",{staticClass:"integral-body"},[t._l(t.list,function(e,i){return a("div",{key:i},[a("div",{staticClass:"integral-body-title"},[a("div",{staticClass:"integral-body-title-child"},[t._v(t._s(e.category_name))])]),1===e.category?a("div",{staticStyle:{position:"relative",overflow:"hidden"}},[t._l(e.list,function(e){return[a("red-item",{key:e.id,attrs:{propsData:e,theme:!1},on:{tap:t.redConversion}})]})],2):t._e(),2===e.category?a("div",{staticStyle:{position:"relative"}},[t._l(e.list,function(e){return[a("entity-exchange",{key:e.id,attrs:{propsData:e},on:{tap:t.entityConversion}})]})],2):t._e()])}),a("div",{staticClass:"text-center",staticStyle:{"font-size":"15px",height:"40px","line-height":"40px",color:"#999999"}},[t._v("敬请期待更多礼品")])],2),a("div",{staticClass:"integral-bottom"},[t._v("\n    当期可用积分:"+t._s(t.mine.points)+"\n  ")])],1)},n=[],s=a("0595"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entity-exchange"},[a("img",{attrs:{src:t.propsData.image,alt:""}}),a("div",[a("div",{staticClass:"entity-exchange-top"},[t._v(t._s(t.propsData.name))]),a("div",{staticClass:"entity-exchange-bottom"},[a("div",[a("span",{staticStyle:{color:"#e73f40"}},[t._v(t._s(t.propsData.point))]),a("span",{staticStyle:{color:"#a9a9a9"}},[t._v("积分")])]),a("div",{on:{click:function(e){return t.$emit("tap",t.propsData)}}},[t._v("兑换")])])])])},r=[],c={name:"entityExchange",props:{propsData:{type:Object}}},d=c,l=(a("face"),a("2877")),p=Object(l["a"])(d,o,r,!1,null,"c3b1fb92",null),v=p.exports,u=a("a763"),m=a("485a"),h=a("83b3"),_=a("af3e"),f=a("2f62"),g=a("77e2");function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){C(t,e,a[e])})}return t}function C(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y={name:"integralStore",data:function(){return{list:[],purchase1:{},purchase2:{},hied1:!1,hied2:!1}},computed:b({},Object(f["d"])({mine:function(t){return t.user.mine}})),methods:b({},Object(f["b"])({getMineInfo:g["k"]}),{getUserIntegralGoodsList:function(){var t=this;m["a"].show(),u["a"].get("/UserIntegral/getIntegralGoodsList").then(function(e){m["a"].hide(),e&&e.groups&&(t.list=e.groups)})},redConversion:function(t){var e=this;if(t){var a=(new Date).getTime()/1e3;return t.good_num<=0?void Object(h["a"])("该商品正在补货中,尽请等待"):t.exchane_end_time&&t.exchane_end_time>0&&t.exchane_end_time<a||t.end_time&&t.end_time>0&&t.end_time<a?void Object(h["a"])("兑换时间已过期"):(this.purchase1=b({},t),void(this.hied1=!0))}u["a"].get("/UserIntegral/exchangeGood",{id:this.purchase1.id}).then(function(){Object(h["a"])("兑换成功"),e.getMineInfo(),e.hied1=!1}).catch(function(t){switch(t.code){case 1090301:Object(h["a"])("商品已下架");break;case 1090302:Object(h["a"])("积分不足");break;case 1090303:Object(h["a"])("每日兑换次数限制");break;default:}})},entityConversion:function(t){var e=this;if(t){var a=(new Date).getTime()/1e3;return t.good_num<=0?void Object(h["a"])("该商品正在补货中,尽请等待"):t.exchane_end_time&&t.exchane_end_time>0&&t.exchane_end_time<a||t.end_time&&t.end_time>0&&t.end_time<a?void Object(h["a"])("兑换时间已过期"):(this.purchase2=b({},t),void(this.hied2=!0))}u["a"].get("/UserIntegral/exchangeGood",{id:this.purchase2.id}).then(function(){Object(h["a"])("兑换成功"),e.getMineInfo(),e.hied2=!1})}}),created:function(){this.getUserIntegralGoodsList(),!this.mine.points&&this.getMineInfo()},components:{redItem:s["a"],entityExchange:v,VDialog:_["a"]}},x=y,D=(a("88e3"),Object(l["a"])(x,i,n,!1,null,"1d0edd87",null));e["default"]=D.exports},a0a5:function(t,e,a){},bc7b:function(t,e,a){},f946:function(t,e,a){},face:function(t,e,a){"use strict";var i=a("f946"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-c47131ba.20a947f2.js.map